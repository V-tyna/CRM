<div class="h">
  <mat-toolbar color="primary">
    <button
      mat-mini-fab
      (click)="drawer.toggle()"
      class="nav-btn"
      color="primary"
      aria-label="Example icon button with a menu icon"
    >
      <mat-icon>menu</mat-icon>
    </button>
    <span>CRM app</span>
    <span class="example-spacer"></span>
    <button
      routerLink="/logout"
      mat-fab
      extended
      color="accent"
      class="nav-btn"
      (click)="logout($event)"
    >
      Logout
    </button>
  </mat-toolbar>

  <mat-drawer-container class="example-container" [hasBackdrop]="true">
    <mat-drawer #drawer mode="over" class="side-nav">
      <div *ngFor="let link of links">
        <div
          routerLink="{{ link.url }}"
          routerLinkActive="active-link"
          [routerLinkActiveOptions]="{ exact: true }"
          class="nav-item"
        >
          {{ link.name }}
        </div>
      </div>
    </mat-drawer>
    <mat-drawer-content  (click)="closeIconsMenu()">
      <div class="main-layout-container">
        <router-outlet></router-outlet>

        <button
          [matMenuTriggerFor]="aboveMenu"
          (click)="toggleIconsMenu($event)"
          mat-fab
          color="accent"
          class="add-btn"
        >
          <mat-icon *ngIf="isOpenedIconMenu else buttonUp">keyboard_arrow_down</mat-icon>
        </button>
        <mat-menu
          #aboveMenu="matMenu"
          yPosition="above"
          xPosition="before"
          class="icons-menu-backdrop"
          [hasBackdrop]="false"
        >
          <div class="menu-icon-list">
            <button
              routerLink="/order"
              mat-fab
              color="primary"
              class="nav-btn"
              #tooltip="matTooltip"
              matTooltip="Make an order"
              matTooltipPosition="left"
              matTooltipHideDelay="200"
            >
              <mat-icon> fastfood</mat-icon>
            </button>
          </div>
          <div class="menu-icon-list">
            <button
              routerLink="/categories/new"
              mat-fab
              color="warn"
              class="nav-btn"
              #tooltip="matTooltip"
              matTooltip="Create new category"
              matTooltipPosition="left"
              matTooltipHideDelay="200"
            >
              <mat-icon> restaurant</mat-icon>
            </button>
          </div>
        </mat-menu>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>

<ng-template #buttonUp><mat-icon>keyboard_arrow_up</mat-icon></ng-template>
